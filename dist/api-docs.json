{
    "swagger": "2.0",
    "info": {
        "title": "Coppia.co API Documentation",
        "description": "API Documentation for Coppia.co API calls",
        "termsOfService": "http://swagger.io/terms/",
        "contact" : {
            "name" : "Coppia API Support",
            "url" : "www.coppia.co/support",
            "email" : "eric@coppia.co"
        },
        "version": "1.0.0"
    },
    "basePath": "/",
    "tags" : [
        {
            "name": "Ideas", 
            "description": "API for Ideas"
        },
        {
            "name": "Interviews", 
            "description": "API for Interview"
        },
        {
            "name": "Customers", 
            "description": "API for Customer"
        }
    ],
    "schemes": [
        "https"
    ],
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "paths": {
        "/api/v1/ideas/": {
            "get": {
                "tags": [
                    "Ideas"
                ],
                "description": "Returns a list of idea object",
                "operationId": "GetIdeas",
                "produces": [
                    "application/json"
                ],
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "Success response when returning a list of ideas",
                        "schema": {
                            "$ref": "#/definitions/idea"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Ideas"
                ],
                "description": "Creates a new idea object",
                "operationId": "CreateIdea",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "title",
                        "in": "body",
                        "description": "Title for the Idea",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "goal",
                        "in": "body",
                        "description": "Goal for the Idea",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "status",
                        "in": "body",
                        "description": "Status for the Idea",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "create_user",
                        "in": "body",
                        "description": "id for the logged in user",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response When creating a new idea object",
                        "schema": {
                            "$ref": "#/definitions/create_idea"
                        }
                    }
                }
            }
        },
        "/api/v1/ideas/{idea_id}": {
            "get":{
                "tags": ["Ideas"],
                "description": "Returns a single idea object",
                "operationId": "GetIdeaById",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "idea_id",
                        "in": "path",
                        "description": "id of the Idea to return from the database",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response when returning a single idea object",
                        "schema": {
                            "$ref": "#/definitions/idea"
                        }
                    }
                }
            },
            "put":{
                "tags": ["Ideas"],
                "description": "Returns a success message for the updated idea object",
                "operationId": "UpdateIdeaById",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "idea_id",
                        "in": "path",
                        "description": "id of the Idea to update",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    },
                    {
                        "name": "title",
                        "in": "body",
                        "description": "Title for the Idea",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "goal",
                        "in": "body",
                        "description": "Goal for the Idea",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "status",
                        "in": "body",
                        "description": "Status for the Idea",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "update_user",
                        "in": "body",
                        "description": "id for the logged in user",
                        "required": true,
                        "optional" : false,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response when calling to update an Idea",
                        "schema": {
                            "$ref": "#/definitions/update_idea"
                        }
                    }
                }
            },
            "delete":{
                "tags":["Ideas"],
                "description":"Deletes an idea object from the database. This will also remove the idea_snippet association as well (if any)",
                "operationId":"delete",
                "produces": [
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "idea_id",
                        "in": "path",
                        "description": "id of the Idea to delete",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response for the delete operation",
                        "schema":{
                            "$ref":"#/definitions/delete_idea"
                        }
                    }
                }
            }
        },
        "/api/v1/ideas/idea_snippet/": {
            "post":{
                "tags": ["Ideas"],
                "description": "Creates a new idea_snippet association",
                "operationId": "create",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "idea_id",
                        "in": "body",
                        "description": "id for the idea to associate",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    },
                    {
                        "name": "snippet_id",
                        "in": "body",
                        "description": "id for the snippet to associate",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "When creating a new idea_snippet association, the id for the newly created idea_snippet will be returned",
                        "schema": {
                            "$ref": "#/definitions/create_idea_snippet"
                        }
                    }
                }
            }
        },
        "/api/v1/interviews/": {
            "get": {
                "tags": ["Interviews"],
                "description": "Return list of Interviews",
                "operationId": "find",
                "produces": [
                    "application/json"
                ],
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "Interview object returned in list",
                        "schema": {
                            "$ref": "#/definitions/interview"
                        }
                    }
                }
            },
            "post":{
                "tags": ["Interviews"],
                "description": "Creates a new Inteview",
                "operationId": "create",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "title",
                        "in": "body",
                        "description": "Title for the Interview",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "notes",
                        "in": "body",
                        "description": "Notes for the Interview",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "create_user",
                        "in": "body",
                        "description": "User Id for the logged in user",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "When creating a new interview, the id for the newly created Interview will be returned",
                        "schema": {
                            "$ref": "#/definitions/create_interview"
                        }
                    }
                }
            }
        },
        "/api/v1/interviews/{interview_id}": {
            "get":{
                "tags": ["Interviews"],
                "description": "Returns a single Interview object",
                "operationId": "findById",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "interview_id",
                        "in": "path",
                        "description": "id for the Interview user wants to get",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Returns single Interview object",
                        "schema": {
                            "$ref": "#/definitions/interview"
                        }
                    }
                }
            },
            "put":{
                "tags": ["Interviews"],
                "description": "Returns a success message with count of interviews updates",
                "operationId": "updateById",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "interview_id",
                        "in": "path",
                        "description": "id for the Interview to update",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    },
                    {
                        "name": "title",
                        "in": "body",
                        "description": "title for the Interview",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "notes",
                        "in": "body",
                        "description": "notes for the Interview",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "update_user",
                        "in": "body",
                        "description": "id for the logged in user",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response when calling to update an Interview",
                        "schema": {
                            "$ref": "#/definitions/update_interview"
                        }
                    }
                }
            },
            "delete":{
                "tags":["Interviews"],
                "description":"Deletes an interview from the database",
                "operationId":"delete",
                "produces": [
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "interview_id",
                        "in": "path",
                        "description": "interview_id for the Interview to be deleted from the database. This will remove the association in the inteview_customer table as well",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response for the deleted Interview",
                        "schema":{
                            "$ref":"#/definitions/delete_interview"
                        }
                    }
                }
            }
        },
        "/api/v1/interviews/interview_customer/": {
            "post":{
                "tags": ["Interviews"],
                "description": "Creates a new interview_customer association",
                "operationId": "create",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "interview_id",
                        "in": "body",
                        "description": "id for the interview to associate",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    },
                    {
                        "name": "customer_id",
                        "in": "body",
                        "description": "id for the customer to associate",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "When creating a new interview_customer association, the id for the newly created intervew_customer will be returned",
                        "schema": {
                            "$ref": "#/definitions/create_interview_customer"
                        }
                    }
                }
            }
        },
        "/api/v1/customers/": {
            "get": {
                "tags": ["Customers"],
                "description": "Return list of Customers",
                "operationId": "GetCustomers",
                "produces": [
                    "application/json"
                ],
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "Customer object returned in list",
                        "schema": {
                            "$ref": "#/definitions/customer"
                        }
                    }
                }
            },
            "post":{
                "tags": [
                    "Customers"
                ],
                "description": "Creates a new Customer",
                "operationId": "CreateCustomer",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "first_name",
                        "in": "body",
                        "description": "First Name of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "last_name",
                        "in": "body",
                        "description": "Last Name of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "Email Address of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "image_link",
                        "in": "body",
                        "description": "Image/Avatar url of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "create_user",
                        "in": "body",
                        "description": "User Id for the logged in user",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "When creating a new customer, the id for the newly created Customer will be returned",
                        "schema": {
                            "$ref": "#/definitions/create_customer"
                        }
                    }
                }
            }
        },
        "/api/v1/customers/{customer_id}": {
            "get":{
                "tags": [
                    "Customers"
                ],
                "description": "Returns a single Customer object",
                "operationId": "GetCustomerById",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "customer_id",
                        "in": "path",
                        "description": "id of the Customer to return",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Returns single Customer object",
                        "schema": {
                            "$ref": "#/definitions/customer"
                        }
                    }
                }
            },
            "put":{
                "tags": [
                    "Customers"
                ],
                "description": "Returns a success message with count of customer updates",
                "operationId": "UpdateCustomerById",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "customer_id",
                        "in": "path",
                        "description": "id for the customer to update",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    },
                    {
                        "name": "first_name",
                        "in": "body",
                        "description": "First Name of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "last_name",
                        "in": "body",
                        "description": "Last Name of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "Email Address of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "image_link",
                        "in": "body",
                        "description": "Image/Avatar url of the Customer",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "update_user",
                        "in": "body",
                        "description": "id for the logged in user",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response when calling to update a Customer",
                        "schema": {
                            "$ref": "#/definitions/update_customer"
                        }
                    }
                }
            },
            "delete":{
                "tags":[
                    "Customers"
                ],
                "description":"Deletes a customer from the database",
                "operationId":"DeleteCustomer",
                "produces": [
                    "application/json"
                ],
                "parameters":[
                    {
                        "name": "customer_id",
                        "in": "path",
                        "description": "customer_id of the Customer to be deleted from the database.",
                        "required": true,
                        "type": "integer",
                        "format" : "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response for the deleted Customer",
                        "schema":{
                            "$ref":"#/definitions/delete_customer"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "idea": {
            "required": [
                "id",
                "title",
                "goal",
                "status",
                "create_user",
                "create_datetime",
                "update_user",
                "update_datetime"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "12"
                },
                "title": {
                    "type": "string",
                    "example": "Need to improve onboarding in order to increase activation"
                },
                "goal": {
                    "type": "string",
                    "example": "Increase activation rate at least by 20%"
                },
                "status": {
                    "type": "string",
                    "example": "UNTESTED"
                },
                "create_user": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "1"
                },
                "create_datetime": {
                    "type": "string",
                    "format" : "date-time",
                    "example": "2016-10-17T23:10:23.000Z"
                },
                "update_user": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "1"
                },
                "update_datetime": {
                    "type": "string",
                    "format" : "date-time",
                    "example": "2016-10-17T23:10:23.000Z"
                }
            }
        },
        "create_idea": {
            "properties": {
                "idea_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "2"
                }
            }
        },
        "update_idea": {
            "properties": {
                "idea_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "13"
                }
            }
        },
         "delete_idea": {
            "properties": {
                "idea_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "12"
                }
            }
        },
        "create_idea_snippet": {
            "properties": {
                "idea_snippet_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "4"
                }
            }
        },
        "Error" : {
            "properties": {
                "message": {
                    "type": "string",
                    "example" : "403 Bad Request"
                }
            }
        },
        "interview": {
            "required": [
                "id",
                "title",
                "notes",
                "create_user",
                "create_datetime",
                "update_user",
                "update_datetime"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "6"
                },
                "title": {
                    "type": "string",
                    "example": "Reporting Discovery w/Charlotte"
                },
                "notes": {
                    "type": "string",
                    "example": "Industrial distributor for padlocks. Padlocks are very custom items. Shackle lengths, master keys, a lot of customization that goes into ordering padlocks. Can you explain this keying to me? Using chat would help reduce the phone traffic. Those conversations are relatively quick. They have 5 people with the company. They all take turns answering calls and 3 people are on Pure Chat every day."
                },
                "create_user": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "1"
                },
                "create_datetime": {
                    "type": "string",
                    "format" : "date-time",
                    "example": "2016-10-17T23:10:23.000Z"
                },
                "update_user": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "1"
                },
                "update_datetime": {
                    "type": "string",
                    "format" : "date-time",
                    "example": "2016-10-17T23:10:23.000Z"
                }
            }
        },
        "create_interview": {
            "properties": {
                "interview_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "3"
                }
            }
        },
         "update_interview": {
            "properties": {
                "interview_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "8"
                }
            }
        },
         "delete_interview": {
            "properties": {
                "interview_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "6"
                }
            }
        },
        "create_interview_customer": {
            "properties": {
                "interview_customer_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "44"
                }
            }
        },
        "customer": {
            "required": [
                "id",
                "first_name",
                "last_name",
                "email",
                "image_link",
                "create_user",
                "create_datetime",
                "update_user",
                "update_datetime"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "6"
                },
                "first_name": {
                    "type": "string",
                    "example": "Eric"
                },
                "last_name": {
                    "type": "string",
                    "example": "Hillenbrand"
                },
                "email": {
                    "type": "string",
                    "example": "eric@coppia.co"
                },
                "image_link": {
                    "type": "string",
                    "example": "https://d1ts43dypk8bqh.cloudfront.net/v1/avatars/88a1184e-964b-495b-86fc-92c2867c5427"
                },
                "create_user": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "1"
                },
                "create_datetime": {
                    "type": "string",
                    "format" : "date-time",
                    "example": "2016-10-17T23:10:23.000Z"
                },
                "update_user": {
                    "type": "integer",
                    "format" : "int32",
                    "example": "1"
                },
                "update_datetime": {
                    "type": "string",
                    "format" : "date-time",
                    "example": "2016-10-17T23:10:23.000Z"
                }
            }
        },
        "create_customer": {
            "properties": {
                "customer_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "3"
                }
            }
        },
         "update_customer": {
            "properties": {
                "customer_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "8"
                }
            }
        },
         "delete_customer": {
            "properties": {
                "customer_id": {
                    "type": "integer",
                    "format" : "int32",
                    "example" : "6"
                }
            }
        }
    }
}